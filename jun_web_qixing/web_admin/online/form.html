<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Onlineè¡¨å•è®¾è®¡å™¨</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      font-size: 14px;
      color: #333;
      background-color: #f5f7fa;
      line-height: 1.6;
    }
    .container {
      width: 100%;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }
    .header {
      height: 60px;
      background-color: #1E9FFF;
      color: white;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    .header h1 {
      font-size: 20px;
      font-weight: 600;
    }
    .header .actions {
      display: flex;
      gap: 10px;
    }
    .header .actions button {
      padding: 6px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s ease;
    }
    .header .actions .primary-btn {
      background-color: #fff;
      color: #1E9FFF;
    }
    .header .actions .primary-btn:hover {
      background-color: #f0f8ff;
    }
    .header .actions .secondary-btn {
      background-color: rgba(255, 255, 255, 0.2);
      color: #fff;
    }
    .header .actions .secondary-btn:hover {
      background-color: rgba(255, 255, 255, 0.3);
    }
    .main-content {
      flex: 1;
      display: flex;
      overflow: hidden;
    }
    .sidebar {
      width: 260px;
      background-color: #fff;
      border-right: 1px solid #e8e8e8;
      display: flex;
      flex-direction: column;
      overflow-y: auto;
    }
    .nav-tabs {
      border-bottom: 1px solid #e8e8e8;
    }
    .nav-tab {
      padding: 15px 20px;
      cursor: pointer;
      border-left: 3px solid transparent;
      transition: all 0.3s ease;
      font-size: 14px;
      color: #666;
      position: relative;
    }
    .nav-tab:hover {
      background-color: #f5f7fa;
    }
    .nav-tab.active {
      border-left-color: #1E9FFF;
      background-color: #f0f8ff;
      color: #1E9FFF;
      font-weight: 500;
    }
    .nav-tab i {
      margin-right: 8px;
    }
    .content-area {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    .form-tabs {
      background-color: #fff;
      border-bottom: 1px solid #e8e8e8;
      display: flex;
      overflow-x: auto;
    }
    .form-tab {
      padding: 15px 25px;
      cursor: pointer;
      border-bottom: 2px solid transparent;
      transition: all 0.3s ease;
      font-size: 14px;
      white-space: nowrap;
    }
    .form-tab:hover {
      color: #1E9FFF;
    }
    .form-tab.active {
      color: #1E9FFF;
      border-bottom-color: #1E9FFF;
      font-weight: 500;
    }
    .form-content {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      background-color: #fafafa;
    }
    .form-card {
      background-color: #fff;
      border-radius: 8px;
      padding: 24px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
      margin-bottom: 20px;
    }
    .form-card h3 {
      font-size: 16px;
      margin-bottom: 16px;
      color: #333;
      font-weight: 500;
    }
    .form-group {
      margin-bottom: 20px;
    }
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: #333;
      font-size: 14px;
    }
    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 8px 12px;
      border: 1px solid #d9d9d9;
      border-radius: 4px;
      font-size: 14px;
      transition: all 0.3s ease;
    }
    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      border-color: #1E9FFF;
      outline: none;
      box-shadow: 0 0 0 2px rgba(30, 159, 255, 0.2);
    }
    .form-group textarea {
      min-height: 80px;
      resize: vertical;
    }
    .checkbox-group,
    .radio-group {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
    }
    .checkbox-item,
    .radio-item {
      display: flex;
      align-items: center;
      cursor: pointer;
    }
    .checkbox-item input,
    .radio-item input {
      margin-right: 5px;
      flex-shrink: 0;
    }
    .grid-layout {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 15px;
    }
    .component-panel {
      background-color: #fff;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
      margin-bottom: 20px;
    }
    .component-panel h3 {
      font-size: 16px;
      margin-bottom: 16px;
      color: #333;
      font-weight: 500;
    }
    .component-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 10px;
    }
    .component-item {
      padding: 12px;
      border: 1px solid #d9d9d9;
      border-radius: 6px;
      cursor: pointer;
      text-align: center;
      transition: all 0.3s ease;
      background-color: #fafafa;
    }
    .component-item:hover {
      border-color: #1E9FFF;
      background-color: #f0f8ff;
      transform: translateY(-1px);
    }
    .component-item i {
      font-size: 24px;
      margin-bottom: 8px;
      display: block;
      color: #1E9FFF;
    }
    .component-item span {
      font-size: 12px;
      color: #666;
    }
    .form-builder {
      background-color: #fff;
      border: 2px dashed #d9d9d9;
      border-radius: 8px;
      min-height: 400px;
      padding: 20px;
      margin-bottom: 20px;
      position: relative;
    }
    .form-builder.empty::after {
      content: "æ‹–æ‹½ç»„ä»¶åˆ°è¿™é‡Œå¼€å§‹è®¾è®¡è¡¨å•";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #999;
      font-size: 16px;
    }
    .form-element {
      padding: 15px;
      border: 1px solid #e8e8e8;
      border-radius: 6px;
      margin-bottom: 15px;
      background-color: #fff;
      position: relative;
      transition: all 0.3s ease;
    }
    .form-element:hover {
      border-color: #1E9FFF;
      box-shadow: 0 2px 8px rgba(30, 159, 255, 0.1);
    }
    .form-element .element-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    .form-element .element-title {
      font-weight: 500;
      color: #333;
    }
    .form-element .element-actions {
      display: none;
      gap: 5px;
    }
    .form-element:hover .element-actions {
      display: flex;
    }
    .form-element .action-btn {
      padding: 2px 6px;
      border: none;
      border-radius: 3px;
      cursor: pointer;
      font-size: 12px;
      background-color: #f5f5f5;
      color: #666;
      transition: all 0.3s ease;
    }
    .form-element .action-btn:hover {
      background-color: #1E9FFF;
      color: #fff;
    }
    .tabs-content > div {
      display: none;
    }
    .tabs-content > div.active {
      display: block;
    }
    /* ç®€å•çš„å›¾æ ‡æ›¿ä»£æ–¹æ¡ˆ */
    .icon {
      display: inline-block;
      width: 24px;
      height: 24px;
      line-height: 24px;
      text-align: center;
      font-size: 16px;
    }
    .alert {
      padding: 12px 16px;
      border-radius: 4px;
      margin-bottom: 20px;
      font-size: 14px;
    }
    .alert-info {
      background-color: #e6f7ff;
      color: #1890ff;
      border: 1px solid #91d5ff;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <div class="header">
      <h1>Onlineè¡¨å•è®¾è®¡å™¨</h1>
      <div class="actions">
        <button class="secondary-btn" id="previewBtn">é¢„è§ˆ</button>
        <button class="secondary-btn" id="saveBtn">ä¿å­˜</button>
        <button class="primary-btn" id="publishBtn">å‘å¸ƒ</button>
      </div>
    </div>
    
    <!-- ä¸»å†…å®¹åŒº -->
    <div class="main-content">
      <!-- å·¦ä¾§è¾¹æ  -->
      <div class="sidebar">
        <div class="nav-tabs">
          <div class="nav-tab active" data-tab="form-design">
            <i class="icon">ğŸ¨</i>è¡¨å•è®¾è®¡
          </div>
          <div class="nav-tab" data-tab="table-config">
            <i class="icon">ğŸ“Š</i>è¡¨æ ¼é…ç½®
          </div>
          <div class="nav-tab" data-tab="data-source">
            <i class="icon">ğŸ”Œ</i>æ•°æ®æº
          </div>
          <div class="nav-tab" data-tab="custom-btn">
            <i class="icon">ğŸ”˜</i>è‡ªå®šä¹‰æŒ‰é’®
          </div>
          <div class="nav-tab" data-tab="js-enhance">
            <i class="icon">âš¡</i>JSå¢å¼º
          </div>
          <div class="nav-tab" data-tab="java-enhance">
            <i class="icon">ğŸ”‹</i>Javaå¢å¼º
          </div>
        </div>
      </div>
      
      <!-- å³ä¾§å†…å®¹åŒº -->
      <div class="content-area">
        <!-- è¡¨å•ç±»å‹é€‰é¡¹å¡ -->
        <div class="form-tabs">
          <div class="form-tab active" data-form-type="single">å•è¡¨</div>
          <div class="form-tab" data-form-type="tree">æ ‘è¡¨</div>
          <div class="form-tab" data-form-type="one2one">ä¸€å¯¹ä¸€</div>
          <div class="form-tab" data-form-type="one2many">ä¸€å¯¹å¤š</div>
        </div>
        
        <!-- è¡¨å•å†…å®¹åŒº -->
        <div class="form-content">
          <!-- è¡¨å•è®¾è®¡é€‰é¡¹å¡å†…å®¹ -->
          <div class="tabs-content">
            <!-- è¡¨å•åŸºæœ¬ä¿¡æ¯ -->
            <div class="form-card">
              <h3>è¡¨å•åŸºæœ¬ä¿¡æ¯</h3>
              <div class="grid-layout">
                <div class="form-group">
                  <label for="formName">è¡¨å•åç§°</label>
                  <input type="text" id="formName" placeholder="è¯·è¾“å…¥è¡¨å•åç§°">
                </div>
                <div class="form-group">
                  <label for="formCode">è¡¨å•ç¼–ç </label>
                  <input type="text" id="formCode" placeholder="è¯·è¾“å…¥è¡¨å•ç¼–ç ">
                </div>
                <div class="form-group">
                  <label for="formType">è¡¨å•ç±»å‹</label>
                  <select id="formType">
                    <option value="single">å•è¡¨</option>
                    <option value="tree">æ ‘è¡¨</option>
                    <option value="one2one">ä¸€å¯¹ä¸€</option>
                    <option value="one2many">ä¸€å¯¹å¤š</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="formLayout">è¡¨å•å¸ƒå±€</label>
                  <select id="formLayout">
                    <option value="1">ä¸€åˆ—</option>
                    <option value="2">ä¸¤åˆ—</option>
                    <option value="3">ä¸‰åˆ—</option>
                    <option value="4">å››åˆ—</option>
                  </select>
                </div>
              </div>
              <div class="form-group">
                <label for="formDescription">è¡¨å•æè¿°</label>
                <textarea id="formDescription" placeholder="è¯·è¾“å…¥è¡¨å•æè¿°"></textarea>
              </div>
            </div>
            
            <!-- è¡¨å•ç»„ä»¶ -->
            <div class="component-panel">
              <h3>è¡¨å•ç»„ä»¶</h3>
              <div class="component-list">
                <div class="component-item" data-type="text">
                  <i>ğŸ“</i>
                  <span>æ–‡æœ¬æ¡†</span>
                </div>
                <div class="component-item" data-type="number">
                  <i>ğŸ”¢</i>
                  <span>æ•°å­—è¾“å…¥</span>
                </div>
                <div class="component-item" data-type="select">
                  <i>ğŸ“‹</i>
                  <span>ä¸‹æ‹‰æ¡†</span>
                </div>
                <div class="component-item" data-type="date">
                  <i>ğŸ“…</i>
                  <span>æ—¥æœŸé€‰æ‹©å™¨</span>
                </div>
                <div class="component-item" data-type="time">
                  <i>â°</i>
                  <span>æ—¶é—´é€‰æ‹©å™¨</span>
                </div>
                <div class="component-item" data-type="checkbox">
                  <i>â˜‘ï¸</i>
                  <span>å¤é€‰æ¡†</span>
                </div>
                <div class="component-item" data-type="radio">
                  <i>âšª</i>
                  <span>å•é€‰æ¡†</span>
                </div>
                <div class="component-item" data-type="switch">
                  <i>ğŸš¦</i>
                  <span>å¼€å…³</span>
                </div>
                <div class="component-item" data-type="textarea">
                  <i>ğŸ“œ</i>
                  <span>æ–‡æœ¬åŸŸ</span>
                </div>
                <div class="component-item" data-type="file">
                  <i>ğŸ“</i>
                  <span>æ–‡ä»¶ä¸Šä¼ </span>
                </div>
                <div class="component-item" data-type="image">
                  <i>ğŸ–¼ï¸</i>
                  <span>å›¾ç‰‡ä¸Šä¼ </span>
                </div>
                <div class="component-item" data-type="cascader">
                  <i>ğŸ“Š</i>
                  <span>çº§è”é€‰æ‹©</span>
                </div>
              </div>
            </div>
            
            <!-- è¡¨å•è®¾è®¡åŒºåŸŸ -->
            <div class="form-builder empty" id="formBuilder">
              <!-- è¡¨å•å…ƒç´ ä¼šåœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <!-- è¡¨å•éªŒè¯è®¾ç½® -->
            <div class="form-card">
              <h3>è¡¨å•éªŒè¯è®¾ç½®</h3>
              <div class="form-group">
                <label>éªŒè¯æ¨¡å¼</label>
                <div class="radio-group">
                  <label class="radio-item">
                    <input type="radio" name="validateMode" value="submit" checked> æäº¤æ—¶éªŒè¯
                  </label>
                  <label class="radio-item">
                    <input type="radio" name="validateMode" value="change"> å˜æ›´æ—¶éªŒè¯
                  </label>
                  <label class="radio-item">
                    <input type="radio" name="validateMode" value="blur"> å¤±å»ç„¦ç‚¹æ—¶éªŒè¯
                  </label>
                </div>
              </div>
              <div class="form-group">
                <label>æäº¤å‰ç¡®è®¤</label>
                <div class="checkbox-group">
                  <label class="checkbox-item">
                    <input type="checkbox" id="confirmBeforeSubmit"> å¯ç”¨æäº¤å‰ç¡®è®¤æç¤º
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    // ç­‰å¾…DOMåŠ è½½å®Œæˆ
    document.addEventListener('DOMContentLoaded', function() {
      // åˆå§‹åŒ–å˜é‡
      let currentFormType = 'single';
      let formElements = [];
      let currentElementId = 0;
      
      // è·å–DOMå…ƒç´ 
      const formBuilder = document.getElementById('formBuilder');
      const formTypeTabs = document.querySelectorAll('.form-tab');
      const navTabs = document.querySelectorAll('.nav-tab');
      const componentItems = document.querySelectorAll('.component-item');
      const saveBtn = document.getElementById('saveBtn');
      const previewBtn = document.getElementById('previewBtn');
      const publishBtn = document.getElementById('publishBtn');
      
      // åˆ‡æ¢è¡¨å•ç±»å‹
      formTypeTabs.forEach(tab => {
        tab.addEventListener('click', function() {
          // ç§»é™¤æ‰€æœ‰æ ‡ç­¾çš„activeç±»
          formTypeTabs.forEach(t => t.classList.remove('active'));
          // æ·»åŠ å½“å‰æ ‡ç­¾çš„activeç±»
          this.classList.add('active');
          // æ›´æ–°å½“å‰è¡¨å•ç±»å‹
          currentFormType = this.getAttribute('data-form-type');
          // æ˜¾ç¤ºå¯¹åº”è¡¨å•ç±»å‹çš„é…ç½®ä¿¡æ¯
          showFormTypeConfig(currentFormType);
        });
      });
      
      // åˆ‡æ¢å¯¼èˆªæ ‡ç­¾
      navTabs.forEach(tab => {
        tab.addEventListener('click', function() {
          // ç§»é™¤æ‰€æœ‰æ ‡ç­¾çš„activeç±»
          navTabs.forEach(t => t.classList.remove('active'));
          // æ·»åŠ å½“å‰æ ‡ç­¾çš„activeç±»
          this.classList.add('active');
          // è·å–æ ‡ç­¾ID
          const tabId = this.getAttribute('data-tab');
          // æ˜¾ç¤ºå¯¹åº”æ ‡ç­¾çš„å†…å®¹
          showTabContent(tabId);
        });
      });
      
      // æ·»åŠ ç»„ä»¶åˆ°è¡¨å•è®¾è®¡å™¨
      componentItems.forEach(item => {
        item.addEventListener('click', function() {
          const componentType = this.getAttribute('data-type');
          addFormElement(componentType);
        });
      });
      
      // ä¿å­˜è¡¨å•é…ç½®
      saveBtn.addEventListener('click', function() {
        saveFormConfig();
      });
      
      // é¢„è§ˆè¡¨å•
      previewBtn.addEventListener('click', function() {
        previewForm();
      });
      
      // å‘å¸ƒè¡¨å•
      publishBtn.addEventListener('click', function() {
        publishForm();
      });
      
      // æ˜¾ç¤ºè¡¨å•ç±»å‹é…ç½®
      function showFormTypeConfig(formType) {
        // æ ¹æ®è¡¨å•ç±»å‹æ˜¾ç¤ºä¸åŒçš„é…ç½®é¡¹
        console.log('åˆ‡æ¢åˆ°è¡¨å•ç±»å‹:', formType);
        
        // æ¸…ç©ºè¡¨å•è®¾è®¡å™¨
        formBuilder.innerHTML = '';
        formElements = [];
        
        // æ ¹æ®ä¸åŒè¡¨å•ç±»å‹æ·»åŠ é»˜è®¤å­—æ®µ
        if (formType === 'single') {
          // å•è¡¨è¡¨å•æ·»åŠ åŸºç¡€å­—æ®µ
          addFormElement('text', {label: 'åç§°', required: true});
          addFormElement('text', {label: 'æè¿°'});
          addFormElement('number', {label: 'æ’åº'});
          addFormElement('switch', {label: 'çŠ¶æ€'});
        } else if (formType === 'tree') {
          // æ ‘è¡¨è¡¨å•æ·»åŠ åŸºç¡€å­—æ®µ
          addFormElement('text', {label: 'åç§°', required: true});
          addFormElement('select', {label: 'ä¸Šçº§åˆ†ç±»', required: true});
          addFormElement('text', {label: 'æè¿°'});
          addFormElement('number', {label: 'æ’åº'});
          addFormElement('switch', {label: 'çŠ¶æ€'});
        } else if (formType === 'one2one') {
          // ä¸€å¯¹ä¸€è¡¨å•æ·»åŠ åŸºç¡€å­—æ®µ
          addFormElement('text', {label: 'ä¸»è¡¨åç§°', required: true});
          addFormElement('text', {label: 'ä¸»è¡¨æè¿°'});
          // æ·»åŠ ä»è¡¨æ ‡è®°
          const relationDiv = document.createElement('div');
          relationDiv.className = 'form-element';
          relationDiv.innerHTML = `
            <div class="element-header">
              <div class="element-title">å…³è”ä»è¡¨</div>
              <div class="element-actions">
                <button class="action-btn" title="ç¼–è¾‘">ğŸ“</button>
                <button class="action-btn" title="åˆ é™¤">ğŸ—‘ï¸</button>
              </div>
            </div>
            <div style="color: #999; font-size: 12px;">æ­¤å¤„å°†æ˜¾ç¤ºä¸€å¯¹ä¸€å…³è”çš„ä»è¡¨å­—æ®µ</div>
          `;
          formBuilder.appendChild(relationDiv);
          formBuilder.classList.remove('empty');
        } else if (formType === 'one2many') {
          // ä¸€å¯¹å¤šè¡¨å•æ·»åŠ åŸºç¡€å­—æ®µ
          addFormElement('text', {label: 'ä¸»è¡¨åç§°', required: true});
          addFormElement('text', {label: 'ä¸»è¡¨æè¿°'});
          // æ·»åŠ ä»è¡¨æ ‡è®°
          const relationDiv = document.createElement('div');
          relationDiv.className = 'form-element';
          relationDiv.innerHTML = `
            <div class="element-header">
              <div class="element-title">å…³è”ä»è¡¨ï¼ˆä¸€å¯¹å¤šï¼‰</div>
              <div class="element-actions">
                <button class="action-btn" title="ç¼–è¾‘">ğŸ“</button>
                <button class="action-btn" title="åˆ é™¤">ğŸ—‘ï¸</button>
              </div>
            </div>
            <div style="color: #999; font-size: 12px;">æ­¤å¤„å°†æ˜¾ç¤ºä¸€å¯¹å¤šå…³è”çš„ä»è¡¨è¡¨æ ¼</div>
          `;
          formBuilder.appendChild(relationDiv);
          formBuilder.classList.remove('empty');
        }
      }
      
      // æ˜¾ç¤ºæ ‡ç­¾å†…å®¹
      function showTabContent(tabId) {
        // æ ¹æ®æ ‡ç­¾IDæ˜¾ç¤ºä¸åŒçš„å†…å®¹
        console.log('åˆ‡æ¢åˆ°æ ‡ç­¾:', tabId);
        // å®é™…é¡¹ç›®ä¸­è¿™é‡Œåº”è¯¥æ˜¾ç¤ºå¯¹åº”æ ‡ç­¾çš„å†…å®¹
      }
      
      // æ·»åŠ è¡¨å•å…ƒç´ 
      function addFormElement(type, options = {}) {
        // ç”Ÿæˆå…ƒç´ ID
        currentElementId++;
        const elementId = 'form_element_' + currentElementId;
        
        // è·å–å…ƒç´ æ ‡ç­¾
        const elementLabel = options.label || getDefaultLabel(type);
        
        // åˆ›å»ºå…ƒç´ å®¹å™¨
        const elementDiv = document.createElement('div');
        elementDiv.className = 'form-element';
        elementDiv.setAttribute('data-id', elementId);
        elementDiv.setAttribute('data-type', type);
        
        // æ ¹æ®å…ƒç´ ç±»å‹ç”Ÿæˆä¸åŒçš„HTML
        let elementHTML = `
          <div class="element-header">
            <div class="element-title">${elementLabel} ${options.required ? '<span style="color: red;">*</span>' : ''}</div>
            <div class="element-actions">
              <button class="action-btn" title="ç¼–è¾‘">ğŸ“</button>
              <button class="action-btn" title="å¤åˆ¶">ğŸ“‹</button>
              <button class="action-btn" title="åˆ é™¤">ğŸ—‘ï¸</button>
            </div>
          </div>
        `;
        
        // æ ¹æ®ä¸åŒç±»å‹æ·»åŠ ä¸åŒçš„è¡¨å•æ§ä»¶
        switch(type) {
          case 'text':
            elementHTML += `<input type="text" placeholder="è¯·è¾“å…¥${elementLabel}">`;
            break;
          case 'number':
            elementHTML += `<input type="number" placeholder="è¯·è¾“å…¥${elementLabel}">`;
            break;
          case 'select':
            elementHTML += `
              <select>
                <option value="">è¯·é€‰æ‹©${elementLabel}</option>
              </select>
            `;
            break;
          case 'date':
            elementHTML += `<input type="date" placeholder="è¯·é€‰æ‹©${elementLabel}">`;
            break;
          case 'time':
            elementHTML += `<input type="time" placeholder="è¯·é€‰æ‹©${elementLabel}">`;
            break;
          case 'checkbox':
            elementHTML += `
              <div class="checkbox-group">
                <label class="checkbox-item">
                  <input type="checkbox" value="1"> é€‰é¡¹1
                </label>
                <label class="checkbox-item">
                  <input type="checkbox" value="2"> é€‰é¡¹2
                </label>
              </div>
            `;
            break;
          case 'radio':
            elementHTML += `
              <div class="radio-group">
                <label class="radio-item">
                  <input type="radio" name="radio_${elementId}" value="1"> é€‰é¡¹1
                </label>
                <label class="radio-item">
                  <input type="radio" name="radio_${elementId}" value="2"> é€‰é¡¹2
                </label>
              </div>
            `;
            break;
          case 'switch':
            elementHTML += `
              <label class="checkbox-item">
                <input type="checkbox" value="1" checked> å¯ç”¨
              </label>
            `;
            break;
          case 'textarea':
            elementHTML += `<textarea placeholder="è¯·è¾“å…¥${elementLabel}"></textarea>`;
            break;
          case 'file':
            elementHTML += `<input type="file">`;
            break;
          case 'image':
            elementHTML += `<input type="file" accept="image/*">`;
            break;
          case 'cascader':
            elementHTML += `
              <select>
                <option value="">è¯·é€‰æ‹©ä¸€çº§é€‰é¡¹</option>
              </select>
              <select style="margin-top: 8px;">
                <option value="">è¯·é€‰æ‹©äºŒçº§é€‰é¡¹</option>
              </select>
            `;
            break;
        }
        
        // è®¾ç½®å…ƒç´ HTML
        elementDiv.innerHTML = elementHTML;
        
        // æ·»åŠ åˆ°è¡¨å•è®¾è®¡å™¨
        formBuilder.appendChild(elementDiv);
        formBuilder.classList.remove('empty');
        
        // ä¿å­˜å…ƒç´ ä¿¡æ¯
        formElements.push({
          id: elementId,
          type: type,
          label: elementLabel,
          required: options.required || false
        });
        
        // æ·»åŠ å…ƒç´ æ“ä½œäº‹ä»¶
        addElementActions(elementDiv);
      }
      
      // è·å–é»˜è®¤æ ‡ç­¾
      function getDefaultLabel(type) {
        const labels = {
          text: 'æ–‡æœ¬',
          number: 'æ•°å­—',
          select: 'é€‰æ‹©',
          date: 'æ—¥æœŸ',
          time: 'æ—¶é—´',
          checkbox: 'å¤šé€‰',
          radio: 'å•é€‰',
          switch: 'å¼€å…³',
          textarea: 'å¤šè¡Œæ–‡æœ¬',
          file: 'æ–‡ä»¶',
          image: 'å›¾ç‰‡',
          cascader: 'çº§è”é€‰æ‹©'
        };
        return labels[type] || 'å­—æ®µ';
      }
      
      // æ·»åŠ å…ƒç´ æ“ä½œäº‹ä»¶
      function addElementActions(elementDiv) {
        // è·å–æ“ä½œæŒ‰é’®
        const editBtn = elementDiv.querySelector('.action-btn[title="ç¼–è¾‘"]');
        const copyBtn = elementDiv.querySelector('.action-btn[title="å¤åˆ¶"]');
        const deleteBtn = elementDiv.querySelector('.action-btn[title="åˆ é™¤"]');
        
        // ç¼–è¾‘æŒ‰é’®äº‹ä»¶
        if (editBtn) {
          editBtn.addEventListener('click', function() {
            const elementId = elementDiv.getAttribute('data-id');
            editFormElement(elementId);
          });
        }
        
        // å¤åˆ¶æŒ‰é’®äº‹ä»¶
        if (copyBtn) {
          copyBtn.addEventListener('click', function() {
            const elementId = elementDiv.getAttribute('data-id');
            copyFormElement(elementId);
          });
        }
        
        // åˆ é™¤æŒ‰é’®äº‹ä»¶
        if (deleteBtn) {
          deleteBtn.addEventListener('click', function() {
            const elementId = elementDiv.getAttribute('data-id');
            deleteFormElement(elementId);
          });
        }
      }
      
      // ç¼–è¾‘è¡¨å•å…ƒç´ 
      function editFormElement(elementId) {
        console.log('ç¼–è¾‘å…ƒç´ :', elementId);
        // å®é™…é¡¹ç›®ä¸­è¿™é‡Œåº”è¯¥æ˜¾ç¤ºå…ƒç´ ç¼–è¾‘å¼¹çª—
        alert('ç¼–è¾‘å…ƒç´ åŠŸèƒ½å¼€å‘ä¸­...');
      }
      
      // å¤åˆ¶è¡¨å•å…ƒç´ 
      function copyFormElement(elementId) {
        console.log('å¤åˆ¶å…ƒç´ :', elementId);
        // æŸ¥æ‰¾è¦å¤åˆ¶çš„å…ƒç´ 
        const elementToCopy = formElements.find(el => el.id === elementId);
        if (elementToCopy) {
          // åˆ›å»ºæ–°å…ƒç´ 
          addFormElement(elementToCopy.type, {
            label: elementToCopy.label + '(å¤åˆ¶)',
            required: elementToCopy.required
          });
        }
      }
      
      // åˆ é™¤è¡¨å•å…ƒç´ 
      function deleteFormElement(elementId) {
        console.log('åˆ é™¤å…ƒç´ :', elementId);
        // ä»DOMä¸­ç§»é™¤å…ƒç´ 
        const elementDiv = formBuilder.querySelector(`[data-id="${elementId}"]`);
        if (elementDiv) {
          formBuilder.removeChild(elementDiv);
        }
        
        // ä»æ•°ç»„ä¸­ç§»é™¤å…ƒç´ 
        formElements = formElements.filter(el => el.id !== elementId);
        
        // å¦‚æœæ²¡æœ‰å…ƒç´ äº†ï¼Œæ˜¾ç¤ºç©ºçŠ¶æ€
        if (formElements.length === 0) {
          formBuilder.classList.add('empty');
        }
      }
      
      // ä¿å­˜è¡¨å•é…ç½®
      function saveFormConfig() {
        // è·å–è¡¨å•åŸºæœ¬ä¿¡æ¯
        const formName = document.getElementById('formName').value;
        const formCode = document.getElementById('formCode').value;
        const formType = document.getElementById('formType').value;
        const formLayout = document.getElementById('formLayout').value;
        const formDescription = document.getElementById('formDescription').value;
        
        // éªŒè¯è¡¨å•ä¿¡æ¯
        if (!formName) {
          alert('è¯·è¾“å…¥è¡¨å•åç§°');
          return;
        }
        
        if (!formCode) {
          alert('è¯·è¾“å…¥è¡¨å•ç¼–ç ');
          return;
        }
        
        // æ„å»ºè¡¨å•é…ç½®å¯¹è±¡
        const formConfig = {
          name: formName,
          code: formCode,
          type: formType,
          layout: formLayout,
          description: formDescription,
          elements: formElements,
          validateMode: document.querySelector('input[name="validateMode"]:checked').value,
          confirmBeforeSubmit: document.getElementById('confirmBeforeSubmit').checked
        };
        
        console.log('ä¿å­˜è¡¨å•é…ç½®:', formConfig);
        
        // è¿™é‡Œåº”è¯¥å‘é€AJAXè¯·æ±‚ä¿å­˜è¡¨å•é…ç½®åˆ°åç«¯
        // æ¨¡æ‹Ÿä¿å­˜æˆåŠŸ
        alert('è¡¨å•é…ç½®ä¿å­˜æˆåŠŸï¼');
      }
      
      // é¢„è§ˆè¡¨å•
      function previewForm() {
        console.log('é¢„è§ˆè¡¨å•');
        // å®é™…é¡¹ç›®ä¸­è¿™é‡Œåº”è¯¥æ‰“å¼€ä¸€ä¸ªæ–°çª—å£æˆ–å¼¹çª—æ˜¾ç¤ºè¡¨å•é¢„è§ˆ
        alert('è¡¨å•é¢„è§ˆåŠŸèƒ½å¼€å‘ä¸­...');
      }
      
      // å‘å¸ƒè¡¨å•
      function publishForm() {
        console.log('å‘å¸ƒè¡¨å•');
        // å®é™…é¡¹ç›®ä¸­è¿™é‡Œåº”è¯¥å‘é€AJAXè¯·æ±‚å‘å¸ƒè¡¨å•
        alert('è¡¨å•å‘å¸ƒæˆåŠŸï¼');
      }
      
      // åˆå§‹åŒ–æ—¶åŠ è½½é»˜è®¤è¡¨å•ç±»å‹é…ç½®
      showFormTypeConfig(currentFormType);
    });
  </script>
</body>
</html>
