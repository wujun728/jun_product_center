    <!--
        升级jqp-flow时需更新以下代码
    -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/common.js"></script>
    <style>
        .container{
            overflow:hidden !important;
        }
    </style>
    <script>

        let params = getUrlParams(window.location.href);

        $.ajax({
            url: "/admin/jqpFlow/getFlowDetail?flowId="+(params.flowId || "")+"&flowInstanceId="+(params.flowInstanceId || ""),
            type: 'GET',
            async:false,
            dataType: 'json',
            success: function (data) {
                window.readOnly = data.data.readOnly;
                window.showProperties = data.data.showProperties;
                window.graphData = data.data.graphData;
                window.statusOptions = data.data.statusOptions;
            }
        });

        // readOnly = false;
        // showProperties = true;
        // graphData = {nodes: [], edges: []};
        saveFlow = e => {
            console.info("save nodes:{}", e)

            $.ajax({
                url: "/admin/common/jqp_flow/save",
                type: 'POST',
                contentType: "application/json",
                data: JSON.stringify({
                    id:params.flowId,
                    graph_data:JSON.stringify(e)
                }),
                dataType: 'json',
                success: function (data) {
                    alert("保存成功");
                }
            });

        };
        // statusOptions = [
        //     {
        //         value: "1",
        //         label: "开立"
        //     },
        //     {
        //         value: "2",
        //         label: "提交"
        //     },
        //     {
        //         value: "3",
        //         label: "审核通过"
        //     },
        //     {
        //         value: "4",
        //         label: "打回"
        //     }
        // ]
    </script>