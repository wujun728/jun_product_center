{"version":3,"sources":["webpack:////Users/zhaohaiyuan/Downloads/www/adminVue/shop/main.js","webpack:////Users/zhaohaiyuan/Downloads/www/adminVue/shop/pages/product/product.vue?b40a","webpack:////Users/zhaohaiyuan/Downloads/www/adminVue/shop/pages/product/product.vue?bebb","webpack:////Users/zhaohaiyuan/Downloads/www/adminVue/shop/pages/product/product.vue?e175","webpack:////Users/zhaohaiyuan/Downloads/www/adminVue/shop/pages/product/product.vue?9476","webpack:////Users/zhaohaiyuan/Downloads/www/adminVue/shop/pages/product/product.vue","webpack:////Users/zhaohaiyuan/Downloads/www/adminVue/shop/pages/product/product.vue?f237","webpack:////Users/zhaohaiyuan/Downloads/www/adminVue/shop/pages/product/product.vue?3ca1"],"names":["createPage","Page","components","share","uniNumberBox","data","buyClass","specClass","specSelected","specSelectedMap","product","imgList","content","specInfo","shareList","num","onLoad","options","id","_this","sendRequest","url","method","success","res","attributesList","forEach","item","attrs","it","name","push","productAttrList","attributes","JSON","stringify","countView","methods","imgPath","path","indexOf","siteHost","count","toggleSpec","setTimeout","selectSpec","index","spec","$set","key","$refs","toggleMask","toCollect","referid","refer","code","collected","$api","msg","message","cart","attr_id","length","addCart","buy","addOrder","numberChange","e","number","stopPrevent","remark","obj","goodsData","uni","navigateTo","orderNo"],"mappings":"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","file":"pages/product/product.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/product/product.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./product.vue?vue&type=template&id=3f77f3b0&\"\nimport script from \"./product.vue?vue&type=script&lang=js&\"\nexport * from \"./product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./product.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('3f77f3b0', component.options)\n    } else {\n      api.reload('3f77f3b0', component.options)\n    }\n    module.hot.accept(\"./product.vue?vue&type=template&id=3f77f3b0&\", function () {\n      api.rerender('3f77f3b0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/zhaohaiyuan/Downloads/www/adminVue/shop/pages/product/product.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=template&id=3f77f3b0&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.product.imgList, function(item, index) {\n    var m0 = _vm.imgPath(item.url)\n    return {\n      $orig: _vm.__get_orig(item),\n      m0: m0\n    }\n  })\n\n  var m1 = _vm.imgPath(_vm.product.img)\n  var m2 = _vm.imgPath(_vm.product.img)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        m1: m1,\n        m2: m2\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport share from '@/components/share';\n\timport uniNumberBox from '@/components/uni-number-box';\n\texport default{\n\t\tcomponents: {\n\t\t\tshare,uniNumberBox\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tbuyClass: 'none',//购买的时候选择规格和数量\n\t\t\t\tspecClass: 'none',\n\t\t\t\tspecSelected:[], \t\t\t\t\n\t\t\t\tspecSelectedMap:{}, \t\t\t\t\n \t\t\t\tproduct:{//产品详情\n\t\t\t\t\timgList:[],\n\t\t\t\t\tcontent:\"\"\n\t\t\t\t},\n\t\t\t\tspecInfo:{//规格参数\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t\tshareList: [], \n\t\t\t\tnum:1,\n\t\t\t};\n\t\t},\n\t\tasync onLoad(options){ \n\t\t\t//接收传值,id里面放的是标题，因为测试数据并没写id \n\t\t\tlet id = options.id;\n\t\t\tif(id){//加载数据\n \t\t\t\tlet _this=this;\n\t\t\t\tthis.sendRequest({\n\t\t\t\t\turl : \"get_product\",\n\t\t\t\t\tdata : {id:id},\n\t\t\t\t\tmethod : \"get\",\n \t\t\t\t\tsuccess:function (res) {\n\t\t\t\t\t\tif(res.data){\n\t\t\t\t\t\t\t_this.product=res.data;\n\t\t\t\t\t\t\tif(_this.product.attributesList){ \n\t\t\t\t\t\t\t\t_this.product.attributesList.forEach(item=>{\n  \t\t\t\t\t\t\t\t\tfor(let it of item.attrs){\n \t\t\t\t\t\t\t\t\t\t// _this.specSelectedMap[item.name]=\"\";\n \t\t\t\t\t\t\t\t\t\t_this.specSelectedMap[item.name]=it;\n\t\t\t\t\t\t\t\t\t\t_this.specSelected.push(it);\n\t\t\t\t\t\t\t\t\t\tbreak; //forEach不能使用break\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t//给多规格的默认选中值\n\t\t\t\t\t\t\t\t_this.product.productAttrList.forEach(item=>{\n\t\t\t\t\t\t\t\t\tif(item.attributes==JSON.stringify(_this.specSelected)){\n\t\t\t\t\t\t\t\t\t\t_this.specInfo=item;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t//调用接口访问量  \n\t\t\t\t\t\t\t\t_this.countView();\n\t\t\t\t\t\t\t}\n \t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}); \n\t\t\t}  \n\t\t},\n\t\tmethods:{\n\t\t\timgPath:function(path){\n\t\t\t\tif(path==''||path==null||path=='null'){\n\t\t\t\t\treturn \"/static/errorImage.jpg\"\t\t\t\t \n\t\t\t\t}else if (path!=''&&path.indexOf('http')>=0) {\n\t\t\t\t\treturn path;\t\t\t\t \n\t\t\t\t}\n\t\t\t\treturn this.siteHost + path;\n\t\t\t},\n\t\t\t//统计访问量\n\t\t\tcountView(){\n\t\t\t\tthis.sendRequest({\n\t\t\t\t\turl : \"count_view\",\n\t\t\t\t\tdata : {id : this.product.count.id},\n\t\t\t\t\tmethod : \"get\",\n \t\t\t\t\tsuccess:function (res) { \n\t\t\t\t\t}\n\t\t\t\t}); \n\t\t\t},\n\t\t\t//规格弹窗开关\n\t\t\ttoggleSpec() {\n\t\t\t\tif(this.specClass === 'show'){\n\t\t\t\t\tthis.specClass = 'hide';\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.specClass = 'none';\n\t\t\t\t\t}, 250);\n\t\t\t\t}else if(this.specClass === 'none'){\n\t\t\t\t\tthis.specClass = 'show';\n\t\t\t\t}\n\t\t\t},\n\t\t\t//选择规格\n\t\t\tselectSpec(index, spec,item){ \n\t\t\t\tthis.$set(this.specSelectedMap, item.name, spec); \n\t\t\t\t//存储已选择\n\t\t\t\t/**\n\t\t\t\t * 修复选择规格存储错误\n\t\t\t\t * 将这几行代码替换即可\n\t\t\t\t * 选择的规格存放在specSelected中\n\t\t\t\t */ \n \t\t\t\tthis.specSelected = []; \n\t\t\t\tfor(var key in this.specSelectedMap){\n \t\t\t\t\tthis.specSelected.push(this.specSelectedMap[key]); \n\t\t\t\t} \n\t\t\t\tthis.product.productAttrList.forEach(item=>{\n\t\t\t\t\tif(item.attributes==JSON.stringify(this.specSelected)){\n\t\t\t\t\t\tthis.specInfo=item;\n\t\t\t\t\t}\n\t\t\t\t}) \n \t\t\t},\n\t\t\t//分享\n\t\t\tshare(){\n\t\t\t\tthis.$refs.share.toggleMask();\t\n\t\t\t},\n\t\t\t//收藏\n\t\t\ttoCollect(){\n\t\t\t\tlet _this=this;\n\t\t\t\t_this.sendRequest({\n\t\t\t\t\turl : \"collect_save\",\n\t\t\t\t\tdata : {referid : _this.product.id,refer : \"Product\"},\n\t\t\t\t\tmethod : \"get\",\n\t\t\t\t\tsuccess:function (res) { \n\t\t\t\t\t\tif(res.code=='200'){\n\t\t\t\t\t\t\t_this.product.collected = !_this.product.collected;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t_this.$api.msg(res.message);  \n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});  \n\t\t\t},\n\t\t\t//加入购物车\n\t\t\tcart(){\n\t\t\t\tthis.buyClass=\"none\";\n\t\t\t\tlet attr_id=\"\";\n\t\t\t\tif(this.product.productAttrList&&this.product.productAttrList.length>0){\n\t\t\t\t\tif(!this.specInfo||!this.specInfo.id){\n\t\t\t\t\t\tthis.toggleSpec();//显示选择规格\n\t\t\t\t\t\treturn;\n \t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(this.specInfo&&this.specInfo.id>0){\n\t\t\t\t\tattr_id=this.specInfo.id;\n\t\t\t\t} \n\t\t\t\t//只有开启的时候才调用接口\n\t\t\t\tif(this.specClass === 'show'){\n\t\t\t\t\taddCart(this.product.id,this.num,attr_id,JSON.stringify(this.specSelected),this);\n\t\t\t\t} \n\t\t\t\tthis.toggleSpec();\n\t\t\t\t//重新设置成1\n\t\t\t\tthis.num=1;\n \t\t\t\t// uni.navigateTo({\n\t\t\t\t// \turl: `/pages/order/createOrder`\n\t\t\t\t// })\n\t\t\t},\n\t\t\tbuy(){\n\t\t\t\tthis.buyClass=\"buy\";\n\t\t\t\tlet attr_id=\"\";\n\t\t\t\tif(this.product.productAttrList&&this.product.productAttrList.length>0){\n\t\t\t\t\tif(!this.specInfo||!this.specInfo.id){\n\t\t\t\t\t\tthis.toggleSpec();//显示选择规格\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(this.specInfo&&this.specInfo.id>0){\n\t\t\t\t\tattr_id=this.specInfo.id;\n\t\t\t\t}  \n \t\t\t\t//只有开启的时候才调用接口\n\t\t\t\tif(this.specClass === 'show'){\n\t\t\t\t\taddOrder(this.product.id,this.num,attr_id,JSON.stringify(this.specSelected),this);\n\t\t\t\t} \n\t\t\t\tthis.toggleSpec();\n\t\t\t\t//重新设置成1\n\t\t\t\tthis.num=1; \n\t\t\t},\n\t\t\t//数量改变\n\t\t\tnumberChange(e){\n \t\t\t\tthis.num=e.number;\n\t\t\t},\n\t\t\tstopPrevent(){}\n\t\t},\n\n\t}\n\t//添加购物车\n\tfunction addCart(referid,num,attr_id,remark,obj){\n\t\tlet _this=obj;\n\t\tlet data={\n\t\t\treferid:referid,\n\t\t\tnum:num,\n\t\t\tattr_id:attr_id,\n\t\t\tremark:remark,\n\t\t}\n\t\t_this.sendRequest({\n\t\t\turl : 'save_cart',\n\t\t\tdata : data,\n\t\t\tmethod : \"post\",\n\t\t\tsuccess:function (res) {\n\t\t\t\tif(res.code=='200'){\n  \t\t\t\t\t_this.$api.msg(`加入购物车成功`);  \n\t\t\t\t}else{\n\t\t\t\t\t_this.$api.msg(res.message);  \n\t\t\t\t}\n\t\t\t}\n\t\t}); \n\t}\n\t//进入下单\n\tfunction addOrder(referid,num,attr_id,remark,obj){\n\t\tlet _this=obj;\n\t\tlet goodsData = [];\n\t\tgoodsData.push({\n\t\t\treferid:referid,\n\t\t\trefer:\"Product\",\n\t\t\tnum:num,\n\t\t\tattr_id:attr_id,\n\t\t\tremark:remark,\n\t\t});\n \t\t_this.sendRequest({\n\t\t\turl : 'create_order',\n\t\t\tdata : {goodsData:goodsData},\n\t\t\tmethod : \"post\",\n\t\t\tsuccess:function (res) {\n\t\t\t\tif(res.code=='200'){\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: `/pages/order/createOrder?orderNo=${res.data.orderNo}`\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\t_this.$api.msg(res.message);\n\t\t\t\t}\n\t\t\t}\n\t\t}); \n\t}\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}